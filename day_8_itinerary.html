<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 8 (2/11)ï¼šé£¯åº— â†’ é—œè¥¿æ©Ÿå ´ (KIX)</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è¨­ç½® Inter å­—é«”ç‚ºä¸»è¦å­—é«”ï¼Œå¢åŠ å¯è®€æ€§ */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        /* å®šç¾©å¡ç‰‡æ¨£å¼ */
        .route-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 1.5rem;
        }
        /* å¤©æ°£è¼‰å…¥å‹•ç•« */
        .weather-loading {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body class="p-0 sm:p-6">
    <!-- Daily Navigation Bar (Fixed at top for mobile experience) -->
    <div class="sticky top-0 z-10 bg-white border-b border-gray-200 shadow-md mb-6 py-2 overflow-x-auto">
        <div class="flex space-x-2 px-4 whitespace-nowrap">
            <!-- ç¸½è¦½ (New Link) -->
            <a href="index.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">ç¸½è¦½</a>
            <!-- NEW: å¯¦ç”¨å·¥å…·é€£çµ -->
            <a href="tools.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">å¯¦ç”¨å·¥å…·</a>
            <!-- Day 1 -->
            <a href="day_1_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 1</a>
            <!-- Day 2 -->
            <a href="day_2_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 2</a>
            <!-- Day 3 -->
            <a href="day_3_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 3</a>
            <!-- Day 4 -->
            <a href="day_4_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 4</a>
            <!-- Day 5 -->
            <a href="day_5_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 5</a>
            <!-- Day 6 -->
            <a href="day_6_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 6</a>
            <!-- Day 7 -->
            <a href="day_7_itinerary.html" class="px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150">Day 7</a>
            <!-- Day 8 (Active) -->
            <a href="day_8_itinerary.html" class="px-3 py-1 text-sm font-semibold rounded-full bg-blue-600 text-white shadow-lg transition duration-150">Day 8</a>
        </div>
    </div>
    
    <!-- ä¸»å®¹å™¨ï¼šé™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œé©åˆæ‰‹æ©Ÿè¢å¹• -->
    <div class="max-w-xl mx-auto px-4 sm:px-0">
        <!-- é é¢æ¨™é¡Œ -->
        <header class="text-center mb-6">
            <h1 class="text-3xl font-bold text-gray-800 flex items-center justify-center">
                <span class="mr-2">ğŸ“…</span> Day 8 (2/11)ï¼šé£¯åº— â†’ é—œè¥¿æ©Ÿå ´ (KIX)
            </h1>
            <h2 class="text-xl text-gray-600 mt-1">
                ä¸»è¦ä»»å‹™ï¼šæº–æ™‚å‰å¾€æ©Ÿå ´ï¼Œæ­ä¹˜ BR177 ç­æ©Ÿ
            </h2>
        </header>



        <!-- å°é¢åœ–ç‰‡ -->

        <div class="mb-6">

            <img src="image/day8.jpg" alt="Day 8 è¿”ç¨‹å°é¢" class="w-full rounded-2xl shadow-lg">

        </div>

        <!-- å€å¡Šä¸€ï¼šèˆªç­èˆ‡æ™‚é–“ç¸½è¦½ -->
        <div class="route-card bg-blue-100 border-t-4 border-blue-500">
            <h3 class="text-2xl font-semibold text-indigo-800 mb-4 flex items-center">
                <span class="mr-2">âœˆï¸</span> èˆªç­èˆ‡æ™‚é–“ç¸½è¦½
            </h3>
            
            <p class="text-gray-700 mb-4">
                å›ç¨‹èˆªç­ï¼š<strong>BR177</strong> (10:55 KIX ç™¼è»Š)
            </p>

            <!-- é—œéµæ•¸æ“šåˆ—è¡¨ -->
            <div class="space-y-2">
                <div class="flex items-center text-gray-700">
                    <span class="font-bold w-32 text-indigo-600">â±ï¸ å‡ºç™¼æ™‚é–“ï¼š</span>
                    <span><strong>07:00</strong> å‰å¾é£¯åº—å‡ºç™¼ (éœ€é ç•™å……è¶³çš„ check-in æ™‚é–“)</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <span class="font-bold w-32 text-indigo-600">ğŸ’° äº¤é€šè²»ç”¨ï¼š</span>
                    <span>ç´„ <strong>Â¥3,400+</strong> (HARUKA9 ç‰¹æ€¥åˆ—è»Šè²»ç”¨)</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <span class="font-bold w-32 text-indigo-600">ğŸ¯ å»ºè­°äº¤é€šï¼š</span>
                    <span>JR <strong>é—œç©ºç‰¹å¿« Haruka</strong> åˆ—è»Š (æœ€å¿«)</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <span class="font-bold w-32 text-indigo-600">ğŸ’¡ æç¤ºï¼š</span>
                    <span>è«‹æ–¼<strong>å‡ºç™¼å‰</strong>ç¢ºèª<strong>Haruka</strong>çš„æ™‚åˆ»è¡¨ï¼Œç¢ºä¿æœ‰è¶³å¤ çš„å½ˆæ€§æ™‚é–“ã€‚</span>
                </div>
            </div>
        </div>

        <!-- NEW: å¤©æ°£è³‡è¨Šå€å¡Š (Open-Meteo JMA Source) -->
        <div class="route-card bg-sky-50 border-t-4 border-sky-400">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-2xl font-semibold text-sky-800 flex items-center">
                    <span class="mr-2">ğŸŒ¥ï¸</span> ç›®çš„åœ°å¤©æ°£
                </h3>
                <span class="text-xs text-gray-500 bg-white px-2 py-1 rounded border">Data: JMA (via Open-Meteo)</span>
            </div>

            <div id="weather-container" class="grid grid-cols-2 gap-4">
                <!-- äº¬éƒ½è»Šç«™ -->
                <div id="weather-kyoto" class="bg-white p-3 rounded-lg shadow-sm text-center weather-loading min-h-[120px] flex flex-col justify-center">
                    <p class="text-sm font-bold text-gray-700 mb-1">äº¬éƒ½è»Šç«™</p>
                    <p class="text-xs text-gray-400">è¼‰å…¥ä¸­...</p>
                </div>
                
                <!-- é—œè¥¿æ©Ÿå ´ -->
                <div id="weather-kix" class="bg-white p-3 rounded-lg shadow-sm text-center weather-loading min-h-[120px] flex flex-col justify-center">
                    <p class="text-sm font-bold text-gray-700 mb-1">é—œè¥¿æ©Ÿå ´ (KIX)</p>
                    <p class="text-xs text-gray-400">è¼‰å…¥ä¸­...</p>
                </div>
            </div>
            <p class="text-xs text-gray-400 mt-2 text-right">*é¡¯ç¤ºä»Šæ—¥å³æ™‚é å ±</p>
        </div>

        <!-- å€å¡ŠäºŒï¼šé£¯åº— â†’ é—œè¥¿æ©Ÿå ´ï¼šåˆ†æ­¥å°èˆª -->
        <div class="route-card bg-gray-100 border-t-4 border-red-500">
            <h3 class="text-2xl font-semibold text-gray-800 mb-5 flex items-center border-b pb-3">
                <span class="mr-2">ğŸš‚</span> é£¯åº— â†’ é—œè¥¿æ©Ÿå ´ï¼šåˆ†æ­¥å°èˆª (Haruka)
            </h3>

            <!-- æ­¥é©Ÿå®¹å™¨ -->
            <div class="space-y-6">
                <!-- æ­¥é©Ÿ 1: Hotel -> Kyoto Station Walk -->
                <div class="border-l-4 border-yellow-500 pl-4">
                    <h4 class="text-lg font-bold text-gray-900 flex items-center mb-1">
                        <span class="bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2">1</span> ğŸš¶ æ­¥è¡Œè‡³äº¬éƒ½è»Šç«™
                    </h4>
                    <p class="text-sm text-gray-600 ml-8">
                        <span class="font-bold text-blue-700">å€é–“ï¼š</span> <strong>é£¯åº—</strong> â†’ <strong>JR äº¬éƒ½è»Šç«™</strong> (Kyoto Station)<br>
                        <span class="font-bold text-blue-700">æ™‚é•·ï¼š</span> ç´„ <strong>7-10 åˆ†é˜</strong><br>
                        <span class="font-bold text-blue-700">æŒ‡ç¤ºï¼š</span> å¾<strong>å…«æ¢å£</strong> (å—å´) é€²å…¥è»Šç«™ï¼Œæ‰¾å°‹ JR <strong>ç‰¹æ€¥ Haruka</strong> çš„æœˆå°ã€‚
                    </p>
                </div>

                <!-- æ­¥é©Ÿ 2: Kyoto -> KIX Haruka Limited Express -->
                <div class="border-l-4 border-green-500 pl-4">
                  <h4 class="text-lg font-bold text-gray-900 flex items-center mb-1">
                        <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2">2</span> âœˆï¸ äº¬éƒ½è»Šç«™ â†’ é—œè¥¿æ©Ÿå ´ (KIX)
                    </h4>
                    <p class="text-sm text-gray-600 ml-8">
                        <span class="font-bold text-blue-700">å€é–“ï¼š</span> <strong>äº¬éƒ½ç«™</strong> â†’ <strong>é—œè¥¿åœ‹éš›æ©Ÿå ´</strong> (KIX)<br>
                        <span class="font-bold text-blue-700">äº¤é€šï¼š</span> JR ç‰¹æ€¥åˆ—è»Š<br>
                        <span class="font-bold text-blue-700">è»Šç¨®/è·¯ç·šï¼š</span> <strong>é—œç©ºç‰¹å¿« Haruka 9</strong> (ã¯ã‚‹ã‹)<strong class="text-red-600 font-extrabold">(æœ€æ™šä¸€å®šè¦æ­ä¸Š)</strong><br>
						<span class="font-bold text-blue-700">ä¹˜è»Šæ™‚é–“ï¼š</span> <strong class="text-red-600 font-extrabold">07ï¼š48</strong><br>
						<span class="font-bold text-blue-700">æŠµé”æ™‚é–“ï¼š</span> <strong class="text-red-600 font-extrabold">09ï¼š13</strong><br>
                        <span class="font-bold text-blue-700">æ™‚é•·ï¼š</span> ç´„ <strong>1 å°æ™‚ 25 åˆ†é˜</strong><br>
                        <span class="font-bold text-blue-700">è²»ç”¨ï¼š</span> <span class="text-red-600 font-extrabold">ä½¿ç”¨JR PASS(æŒ‡å®šå¸­éœ€è¦å…ˆé è¨‚)</span> <br>
                    </p>
                </div>
                
                <!-- æ­¥é©Ÿ 3: KIX Check-in -->
                <div class="border-l-4 border-pink-500 pl-4">
                  <h4 class="text-lg font-bold text-gray-900 flex items-center mb-1">
                        <span class="bg-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2">3</span> ğŸ›« æŠµé”æ©Ÿå ´èˆ‡ Check-in
                    </h4>
                    <p class="text-sm text-gray-600 ml-8">
                        <span class="font-bold text-blue-700">æŒ‡ç¤ºï¼š</span> æŠµé” <strong class="text-red-600 font-extrabold">é—œè¥¿æ©Ÿå ´</strong>å¾Œï¼Œä¾å¾ªæŒ‡ç¤ºç‰Œå‰å¾€<strong class="text-red-600 font-extrabold">ç¬¬ä¸€èˆªå»ˆ (T1) </strong>è¾¦ç†é•·æ¦®èˆªç©º (BR) çš„ç™»æ©Ÿæ‰‹çºŒã€‚<br>
<span class="font-bold text-blue-700">é è¨ˆæŠµé”ï¼š</span> ç´„ <strong>09:20</strong><br>
                        <span class="font-bold text-blue-700">å‚™è¨»ï¼š</span> åœ‹éš›ç·šå»ºè­°æå‰ 2 å°æ™‚å ±åˆ°ã€‚
                    </p>
                </div>
            </div>
        </div>
        
        <!-- å€å¡Šä¸‰ï¼šæœ€çµ‚ç¢ºèªæ¸…å–® (Checklist) -->
        <div class="route-card bg-lime-50 border-t-4 border-lime-500">
            <h3 class="text-2xl font-semibold text-lime-800 mb-4 flex items-center">
                <span class="mr-2">âœ…</span> æœ€çµ‚ç¢ºèªæ¸…å–®
            </h3>
            
            <ul class="list-disc list-inside text-sm text-gray-700 ml-4 space-y-2">
                <li>è­·ç…§ã€æ©Ÿç¥¨ã€æ‰‹æ©Ÿã€éŒ¢åŒ… (ç¾é‡‘/ä¿¡ç”¨å¡)</li>
                <li>é£¯åº—æˆ¿é–“å…§æ˜¯å¦æœ‰éºæ¼ç‰©å“ (å……é›»å™¨ã€è¡£ç‰©)</li>
                <li>è¡Œææ˜¯å¦å·²ç§¤é‡ï¼Œç¬¦åˆèˆªç©ºå…¬å¸è¦å®š (é•·æ¦® BR177)</li>
            </ul>
        </div>
    </div>

    <!-- Script to fetch Weather Data via Open-Meteo (Uses JMA models) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetchWeather();
        });

        async function fetchWeather() {
            // å®šç¾©åœ°é»èˆ‡åº§æ¨™ (äº¬éƒ½è»Šç«™, é—œè¥¿æ©Ÿå ´)
            const locations = [
                { id: 'weather-kyoto', name: 'äº¬éƒ½è»Šç«™', lat: 34.9858, lon: 135.7588 },
                { id: 'weather-kix', name: 'é—œè¥¿æ©Ÿå ´', lat: 34.4347, lon: 135.2323 }
            ];

            // æ§‹å»ºæ‰¹é‡è«‹æ±‚ URL
            const lats = locations.map(l => l.lat).join(',');
            const lons = locations.map(l => l.lon).join(',');
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${lats}&longitude=${lons}&daily=weather_code,temperature_2m_max,precipitation_probability_max&timezone=Asia%2FTokyo&forecast_days=1`;

            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();

                // Open-Meteo å°æ–¼å–®ä¸€åœ°é»å›å‚³ç‰©ä»¶ï¼Œå¤šåœ°é»å›å‚³é™£åˆ—
                const results = Array.isArray(data) ? data : [data];

                results.forEach((result, index) => {
                    const loc = locations[index];
                    const daily = result.daily;
                    const code = daily.weather_code[0];
                    const maxTemp = Math.round(daily.temperature_2m_max[0]);
                    const rainProb = daily.precipitation_probability_max[0];
                    
                    const weatherInfo = getWeatherInfo(code);
                    
                    const container = document.getElementById(loc.id);
                    container.innerHTML = `
                        <div class="flex flex-col items-center h-full justify-between py-1">
                            <div class="text-center">
                                <p class="text-base font-bold text-gray-800">${loc.name}</p>
                                <div class="text-3xl my-1">${weatherInfo.icon}</div>
                                <p class="text-xs text-gray-500 font-medium">${weatherInfo.text}</p>
                            </div>
                            <div class="flex space-x-2 mt-2 text-xs w-full justify-center bg-gray-50 rounded py-1">
                                <div class="flex flex-col items-center">
                                    <span class="text-blue-500 font-bold">â˜” ${rainProb}%</span>
                                </div>
                                <div class="border-l border-gray-300"></div>
                                <div class="flex flex-col items-center">
                                    <span class="text-red-500 font-bold">ğŸŒ¡ï¸ ${maxTemp}Â°C</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.classList.remove('weather-loading');
                });

            } catch (error) {
                console.error('Weather fetch error:', error);
                locations.forEach(loc => {
                    const el = document.getElementById(loc.id);
                    if(el) {
                        el.innerHTML = `<p class="text-xs text-red-400">æš«æ™‚ç„¡æ³•å–å¾—</p>`;
                        el.classList.remove('weather-loading');
                    }
                });
            }
        }

        // WMO Weather Code Mapping to Traditional Chinese & Icons
        function getWeatherInfo(code) {
            // WMO Weather interpretation codes (WW)
            if (code === 0) return { text: 'æ™´æœ—', icon: 'â˜€ï¸' };
            if (code >= 1 && code <= 3) return { text: 'å¤šé›²æ™‚æ™´', icon: 'â›…' };
            if (code === 45 || code === 48) return { text: 'æœ‰éœ§', icon: 'ğŸŒ«ï¸' };
            if (code >= 51 && code <= 55) return { text: 'æ¯›æ¯›é›¨', icon: 'ğŸŒ§ï¸' };
            if (code >= 56 && code <= 57) return { text: 'å‡é›¨', icon: 'ğŸŒ¨ï¸' };
            if (code >= 61 && code <= 65) return { text: 'ä¸‹é›¨', icon: 'â˜”' };
            if (code >= 66 && code <= 67) return { text: 'å‡é›¨', icon: 'ğŸŒ¨ï¸' };
            if (code >= 71 && code <= 77) return { text: 'é™é›ª', icon: 'â„ï¸' };
            if (code >= 80 && code <= 82) return { text: 'é™£é›¨', icon: 'ğŸŒ¦ï¸' };
            if (code >= 85 && code <= 86) return { text: 'é™£é›ª', icon: 'ğŸŒ¨ï¸' };
            if (code >= 95 && code <= 99) return { text: 'é›·é›¨', icon: 'â›ˆï¸' };
            return { text: 'æœªçŸ¥', icon: 'â“' };
        }
    </script>
</body>
</html>